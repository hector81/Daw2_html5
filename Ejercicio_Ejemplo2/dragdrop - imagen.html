<!DOCTYPE html>
<html>
<head>
    <title>Drag&Drop</title>
    <link rel="stylesheet" href="dragdrop - imagen.css" type="text/css">
    <script type="text/javascript">
			var img1 = new Image();
            img1.src = 'arrastra.png';	
        function empezar(ev){
            ev.dataTransfer.effectAllowed='move';
            ev.dataTransfer.setData("Data",ev.target.getAttribute('id'));//localizamos el evento id arrastrable	
            //ev.dataTransfer.setDragImage(ev.target,0,0);
				
            ev.dataTransfer.setDragImage(img1,0,0);
			
            return true;
        }
        function entrar(ev){
            return(true);
        }
        function encima(ev){
            return false;
        }
        function soltar(ev){
			var arrastraId=ev.dataTransfer.getData("Data");//coger el id para saber que id se esta arrastrando
			
			if(ev.target.getAttribute('id')=="destino1"){//si el destino id es igual a 1
				if(arrastraId == "arrastrable1"){
					ev.target.appendChild(document.getElementById("arrastrable1"));//solo el arrastrable id 1 puede meterse
				}
				if(arrastraId == "arrastrable2"){
					ev.target.appendChild(document.getElementById("arrastrable2"));//solo el arrastrable id 1 puede meterse
				}
				if(arrastraId == "arrastrable3"){
					ev.target.appendChild(document.getElementById("arrastrable3"));//solo el arrastrable id 1 puede meterse
				}
			}
			if(ev.target.getAttribute('id')=="destino2"){
				if(arrastraId == "arrastrable2"){
					ev.target.appendChild(document.getElementById("arrastrable2"));//solo el arrastrable id 2 puede meterse
				}
				
			}
			if(ev.target.getAttribute('id')=="destino3"){
				if(arrastraId == "arrastrable3"){
					ev.target.appendChild(document.getElementById("arrastrable3"));//solo el arrastrable id 3 puede meterse
				}
			}
            
            ev.stopPropagation();
            return false;
        }
        function terminar(ev){
            ev.dataTransfer.clearData("Data");
            return true;
        }
        function abortar(ev){
            return true;
        }
    </script>
    <meta charset="utf-8" />
</head>
<body>
    <div id="destino1" ondragenter="return entrar(event)" ondragover="return encima(event)" ondrop="return soltar(event)" ondragleave="return abortar(event)">
        CONTENEDOR 1
    </div>
	<div id="destino2" ondragenter="return entrar(event)" ondragover="return encima(event)" ondrop="return soltar(event)" ondragleave="return abortar(event)">
        CONTENEDOR 2
    </div>
	<div id="destino3" ondragenter="return entrar(event)" ondragover="return encima(event)" ondrop="return soltar(event)" ondragleave="return abortar(event)">
        CONTENEDOR 3
    </div>
	
    <div id="arrastrable1" draggable="true" ondragstart="return empezar(event)" ondragend="return terminar(event)">
        A-1
    </div>
	<div id="arrastrable2" draggable="true" ondragstart="return empezar(event)" ondragend="return terminar(event)">
        A-2
    </div> 
	<div id="arrastrable3" draggable="true" ondragstart="return empezar(event)" ondragend="return terminar(event)">
        A-3
    </div> 	
</body>
</html>